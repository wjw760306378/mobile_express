(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f6585aa"],{"0c73":function(t,e,s){"use strict";var c=s("4839"),o=s.n(c);o.a},4839:function(t,e,s){},b5ba:function(t,e,s){"use strict";s.r(e);var c=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"collect"},[c("div",{staticClass:"title"},[c("img",{attrs:{src:s("1faf")},on:{click:t.goBack}}),c("span",[t._v("我的收藏")])]),c("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{type:"spinner",color:"#000000"}}),c("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"collectList"},[t.collectList.length?c("ul",{staticClass:"collectListBox"},t._l(t.collectList,(function(e){return c("van-swipe-cell",{key:e.id,attrs:{name:e.id,"before-close":t.beforeClose},scopedSlots:t._u([{key:"right",fn:function(){return[c("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"}})]},proxy:!0}],null,!0)},[c("li",{staticClass:"oneCollect"},[c("div",{staticClass:"collectPhoto"},[c("img",{attrs:{src:e.src}})]),c("div",{staticClass:"collectMsg"},[c("p",[t._v(t._s(e.title))]),c("span",[t._v(t._s(e.msg))])])])])})),1):c("div",{staticClass:"nocollect"},[c("img",{attrs:{src:s("c3ad")}}),c("span",[t._v("暂无收藏")])])])],1)},o=[],i=(s("c740"),s("a434"),s("b0c0"),s("e17f"),s("2241")),l=s("5530"),n=s("2f62"),a={data:function(){return{collectList:[]}},computed:Object(l["a"])(Object(l["a"])({},Object(n["e"])("loginState",["user"])),Object(n["e"])("loading",["loading"])),created:function(){this.setLoading(!0),this.getCollect()},methods:Object(l["a"])(Object(l["a"])({},Object(n["d"])("loading",["setLoading"])),{},{beforeClose:function(t){var e=this,s=t.name,c=t.position,o=t.instance;switch(console.log("name",s),c){case"left":case"cell":case"outside":o.close();break;case"right":i["a"].confirm({message:"确定删除吗？"}).then((function(){e.$post("collectBook",{id:s,userid:e.user.id,iscollect:!0}).then((function(t){0==t.code&&(e.collectList.splice(e.collectList.findIndex((function(t){return t.id==s})),1),o.close())}))}));break}},getCollect:function(){var t=this;this.$post("users/getCollect",{id:this.user.id}).then((function(e){console.log("users/getCollect",e),t.setLoading(!1),0==e.code&&(t.collectList=e.collectList)})).catch((function(e){console.log("err",e),t.setLoading(!1),i["a"].alert({message:e.message})}))},goBack:function(){this.$router.go(-1)}})},r=a,d=(s("0c73"),s("0c7c")),u=Object(d["a"])(r,c,o,!1,null,null,null);e["default"]=u.exports},c3ad:function(t,e,s){t.exports=s.p+"img/nocollect.d31bd8d9.png"}}]);