(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26639f37"],{"057f":function(t,e,i){var n=i("fc6a"),r=i("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(n(t))}},1419:function(t,e,i){t.exports=i.p+"img/loading_active.df768d4e.png"},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),o=i("17c2"),s=i("9112");for(var a in r){var c=n[a],u=c&&c.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(f){u.forEach=o}}},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),o=i("ae40"),s=r("forEach"),a=o("forEach");t.exports=s&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),r=i("825a"),o=i("d039"),s=i("ad6d"),a="toString",c=RegExp.prototype,u=c[a],f=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l=u.name!=a;(f||l)&&n(RegExp.prototype,a,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in c)?s.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},2909:function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t){if(Array.isArray(t))return n(t)}i.d(e,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("fb6a"),i("b0c0"),i("25f0");function s(t,e){if(t){if("string"===typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||o(t)||s(t)||a()}},4160:function(t,e,i){"use strict";var n=i("23e7"),r=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"5f38":function(t,e,i){},"746f":function(t,e,i){var n=i("428f"),r=i("5135"),o=i("e538"),s=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||s(e,t,{value:o.f(t)})}},7992:function(t){t.exports=JSON.parse('[{"id":0,"name":"校园"},{"id":1,"name":"恐怖"},{"id":2,"name":"惊悚"},{"id":3,"name":"科幻"},{"id":4,"name":"修仙"},{"id":5,"name":"言情"},{"id":6,"name":"偶像"},{"id":7,"name":"青春"}]')},"9cc7":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"find-book"},[n("h3",{on:{click:function(e){t.isshowbox=!0}}},[t._v("发现")]),n("ul",{ref:"bookTabs",staticClass:"book-tabs"},[t._l(t.tabList,(function(e,i){return n("li",{key:e.id,ref:"tab"+i,refInFor:!0,class:{active:t.active==i},on:{click:function(e){t.active=i}}},[t._v(" "+t._s(e.name)+" ")])})),n("div",{staticClass:"tab-line",style:{transform:"translateX("+t.offsetLeft+"px)",width:t.activeTabWidth+"px"}})],2),n("div",{staticClass:"book-pubus"},[n("div",{staticClass:"book-pubus-box",style:{width:"calc(100% * "+t.tabList.length+")",transform:"translateX("+t.moveX+"px)",transition:t.istransition},on:{touchstart:t.handlets,touchmove:t.handletm,touchend:t.handlete}},t._l(t.pubuList,(function(e,r){return n("van-pull-refresh",{key:r,ref:"vanPullRefresh"+r,refInFor:!0,staticClass:"book-pubu",style:{width:"calc(100% / "+t.tabList.length+")",overflowY:t.isHidden},attrs:{"head-height":128},on:{refresh:function(e){return t.onRefresh(r)}},scopedSlots:t._u([{key:"pulling",fn:function(t){return[n("img",{style:{transform:"scale("+t.distance/128+")"},attrs:{src:i("b104")}})]}},{key:"loosing",fn:function(){return[n("img",{staticStyle:{animation:"infiRotate 1s linear infinite"},attrs:{src:i("1419")}})]},proxy:!0},{key:"loading",fn:function(){return[n("img",{staticStyle:{animation:"infiRotate 1s linear infinite"},attrs:{src:i("1419")}})]},proxy:!0}],null,!0),model:{value:e.pullLoading,callback:function(i){t.$set(e,"pullLoading",i)},expression:"pubu.pullLoading"}},[n("van-list",{attrs:{finished:e.finished,"finished-text":"我也是有底线的"},on:{load:function(e){return t.onLoad(r)}},scopedSlots:t._u([{key:"loading",fn:function(){return[n("img",{staticStyle:{animation:"infiRotate 1s linear infinite"},attrs:{src:i("1419")}})]},proxy:!0}],null,!0),model:{value:e.listLoading,callback:function(i){t.$set(e,"listLoading",i)},expression:"pubu.listLoading"}},[n("div",{staticClass:"book-pubu-list"},[n("ul",t._l(e.leftPubu,(function(e){return n("li",{key:e.id},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.src,expression:"leftOne.src"},{name:"show",rawName:"v-show",value:e.h,expression:"leftOne.h"}],style:{height:e.h+"px"}}),n("h3",[t._v(t._s(e.title))]),n("span",[t._v(t._s(e.msg))])])})),0),n("ul",t._l(e.rightPubu,(function(e){return n("li",{key:e.id},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.src,expression:"rightOne.src"},{name:"show",rawName:"v-show",value:e.h,expression:"rightOne.h"}],style:{height:e.h+"px"}}),n("h3",[t._v(t._s(e.title))]),n("span",[t._v(t._s(e.msg))])])})),0)])])],1)})),1)])])},r=[],o=(i("4160"),i("159b"),i("2909")),s={name:"findBook",data:function(){return{isshowbox:!1,active:0,offsetLeft:0,tabList:[],innerWidth:0,activeTabWidth:0,myAnimateTimer:null,moveMin:0,speedMin:600,startTime:0,startX:0,startY:0,isHidden:"scroll",isScrollY:!1,isScrollX:!1,moveX:0,istransition:"none",pageSize:10,pubuList:[]}},created:function(){var t=this;this.initPubuList(),this.getTabs(),this.innerWidth=window.innerWidth,this.moveMin=2*this.innerWidth/3,setTimeout((function(){t.istransition="all .3s"}),1e3)},mounted:function(){this.activeTabWidth=this.$refs.tab0[0].offsetWidth,console.log("this.activeTabWidth",this.activeTabWidth)},watch:{active:{handler:function(t,e){t!=e&&(this.moveX=-this.innerWidth*t,this.chooseTab(),this.pubuList[t].leftPubu.length||this.getPubu(t))}}},methods:{initPubuList:function(){for(var t=0;t<8;t++)this.pubuList.push({leftPubu:[],rightPubu:[],currentPage:0,leftHeight:0,rightHeight:0,newPubuList:[],pullLoading:!1,listLoading:!1,finished:!1,scrollTop:0})},handlets:function(t){console.log("start",t),this.startTime=(new Date).getTime();var e=t.changedTouches[0],i=e.pageX,n=e.pageY;this.startX=i,this.startY=n,this.istransition="none"},handletm:function(t){if(!this.isScrollY){var e,i,n=t.changedTouches[0],r=n.pageX,o=n.pageY;e=r-this.startX,i=o-this.startY,this.isScrollX?this.moveX=-this.innerWidth*this.active+e:(this.isScrollY=Math.abs(i)-Math.abs(e)>=0,this.isScrollX=!this.isScrollY,this.isScrollX&&(this.isHidden="hidden"))}},handlete:function(t){if(this.istransition="all .3s",this.isHidden="scroll",this.isScrollX=!1,this.isScrollY)this.isScrollY=!1;else{var e=(new Date).getTime()-this.startTime,i=t.changedTouches[0].pageX-this.startX,n=this.tabList.length-1;(Math.abs(i)>=this.moveMin||Math.abs(i)/e*1e3>=this.speedMin)&&(this.active=i>0?0!==this.active?this.active-1:0:this.active!==n?this.active+1:n),this.moveX=-this.innerWidth*this.active}},getTabWidth:function(t){this.activeTabWidth=this.$refs["tab".concat(t)][0].offsetWidth},myAnimate:function(t,e){var i=(e-t)/10;return i=i>0?Math.ceil(i):Math.floor(i),t=i+t,this.$refs.bookTabs.scrollTo(t,0),Math.abs(e-t)<=Math.abs(i)&&(t=e,this.$refs.bookTabs.scrollTo(t,0),clearInterval(this.myAnimateTimer),this.myAnimateTimer=null),t},chooseTab:function(){var t=this,e=this.$refs.bookTabs.scrollLeft;this.getTabWidth(this.active),this.offsetLeft=this.$refs["tab".concat(this.active)][0].offsetLeft,this.myAnimateTimer=setInterval((function(){e=t.myAnimate(e,t.offsetLeft-t.innerWidth/2+t.activeTabWidth/2)}),10)},getTabs:function(){var t=i("7992");this.tabList=t},getPubu:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"norefresh";console.log(this.pubuList),setTimeout((function(){e.$post("findBook",{type:t,pageSize:e.pageSize,currentPage:e.pubuList[t].currentPage}).then((function(n){console.log(n),0==n.code&&(e.pubuList[t].newPubuList=n.result,e.loadImg(n.result,t,i),e.pubuList[t].finished=n.finished)}))}),1e3)},loadImg:function(t,e,i){var n=this,r=0,s=this.pubuList[e];t.forEach((function(e,a){var c=new Image;c.src=e.src,c.onload=function(){t[r].h=c.height,r++,r==t.length&&("refresh"==i&&(s.leftHeight=s.rightHeight=0),n.handleNewPubuList(t,s.leftHeight,s.rightHeight,(function(t,e,n){var r,a;(s.currentPage++,s.leftHeight=e,s.rightHeight=n,"refresh"==i)?(s.leftPubu=t.pubuL,s.rightPubu=t.pubuR,s.pullLoading=!1):((r=s.leftPubu).push.apply(r,Object(o["a"])(t.pubuL)),(a=s.rightPubu).push.apply(a,Object(o["a"])(t.pubuR)),s.listLoading=!1);s.newPubuList=[],console.log(s)})))}}))},handleNewPubuList:function(t,e,i,n){var r={pubuL:[],pubuR:[]};t.forEach((function(t){e<=i?(r.pubuL.push(t),e+=t.h):(r.pubuR.push(t),i+=t.h)})),n(r,e,i)},onRefresh:function(t){this.active==t&&(this.pubuList[t].currentPage=0,this.getPubu(t,"refresh"))},onLoad:function(t){this.active==t&&(console.log("开始加载"),this.getPubu(t),this.$refs["vanPullRefresh".concat(this.active)])}},beforeRouteEnter:function(t,e,i){i((function(t){t.pubuList.forEach((function(e,i){t.$refs["vanPullRefresh".concat(i)][0].$el.scrollTop=e.scrollTop}))}))},beforeRouteLeave:function(t,e,i){var n=this;this.pubuList.forEach((function(t,e){t.scrollTop=n.$refs["vanPullRefresh".concat(e)][0].$el.scrollTop})),i()}},a=s,c=(i("a420"),i("0c7c")),u=Object(c["a"])(a,n,r,!1,null,null,null);e["default"]=u.exports},a420:function(t,e,i){"use strict";var n=i("5f38"),r=i.n(n);r.a},a4d3:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),o=i("d066"),s=i("c430"),a=i("83ab"),c=i("4930"),u=i("fdbf"),f=i("d039"),l=i("5135"),h=i("e8b5"),d=i("861d"),b=i("825a"),p=i("7b0b"),g=i("fc6a"),v=i("c04e"),m=i("5c6c"),y=i("7c73"),w=i("df75"),S=i("241c"),L=i("057f"),T=i("7418"),P=i("06cf"),O=i("9bf2"),k=i("d1e7"),x=i("9112"),E=i("6eeb"),A=i("5692"),W=i("f772"),_=i("d012"),R=i("90e3"),X=i("b622"),j=i("e538"),$=i("746f"),M=i("d44e"),H=i("69f3"),N=i("b727").forEach,Y=W("hidden"),C="Symbol",I="prototype",z=X("toPrimitive"),J=H.set,F=H.getterFor(C),D=Object[I],B=r.Symbol,Q=o("JSON","stringify"),U=P.f,q=O.f,G=L.f,K=k.f,V=A("symbols"),Z=A("op-symbols"),tt=A("string-to-symbol-registry"),et=A("symbol-to-string-registry"),it=A("wks"),nt=r.QObject,rt=!nt||!nt[I]||!nt[I].findChild,ot=a&&f((function(){return 7!=y(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=U(D,e);n&&delete D[e],q(t,e,i),n&&t!==D&&q(D,e,n)}:q,st=function(t,e){var i=V[t]=y(B[I]);return J(i,{type:C,tag:t,description:e}),a||(i.description=e),i},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof B},ct=function(t,e,i){t===D&&ct(Z,e,i),b(t);var n=v(e,!0);return b(i),l(V,n)?(i.enumerable?(l(t,Y)&&t[Y][n]&&(t[Y][n]=!1),i=y(i,{enumerable:m(0,!1)})):(l(t,Y)||q(t,Y,m(1,{})),t[Y][n]=!0),ot(t,n,i)):q(t,n,i)},ut=function(t,e){b(t);var i=g(e),n=w(i).concat(bt(i));return N(n,(function(e){a&&!lt.call(i,e)||ct(t,e,i[e])})),t},ft=function(t,e){return void 0===e?y(t):ut(y(t),e)},lt=function(t){var e=v(t,!0),i=K.call(this,e);return!(this===D&&l(V,e)&&!l(Z,e))&&(!(i||!l(this,e)||!l(V,e)||l(this,Y)&&this[Y][e])||i)},ht=function(t,e){var i=g(t),n=v(e,!0);if(i!==D||!l(V,n)||l(Z,n)){var r=U(i,n);return!r||!l(V,n)||l(i,Y)&&i[Y][n]||(r.enumerable=!0),r}},dt=function(t){var e=G(g(t)),i=[];return N(e,(function(t){l(V,t)||l(_,t)||i.push(t)})),i},bt=function(t){var e=t===D,i=G(e?Z:g(t)),n=[];return N(i,(function(t){!l(V,t)||e&&!l(D,t)||n.push(V[t])})),n};if(c||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=R(t),i=function(t){this===D&&i.call(Z,t),l(this,Y)&&l(this[Y],e)&&(this[Y][e]=!1),ot(this,e,m(1,t))};return a&&rt&&ot(D,e,{configurable:!0,set:i}),st(e,t)},E(B[I],"toString",(function(){return F(this).tag})),E(B,"withoutSetter",(function(t){return st(R(t),t)})),k.f=lt,O.f=ct,P.f=ht,S.f=L.f=dt,T.f=bt,j.f=function(t){return st(X(t),t)},a&&(q(B[I],"description",{configurable:!0,get:function(){return F(this).description}}),s||E(D,"propertyIsEnumerable",lt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:B}),N(w(it),(function(t){$(t)})),n({target:C,stat:!0,forced:!c},{for:function(t){var e=String(t);if(l(tt,e))return tt[e];var i=B(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(l(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!a},{create:ft,defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:ht}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:bt}),n({target:"Object",stat:!0,forced:f((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(p(t))}}),Q){var pt=!c||f((function(){var t=B();return"[null]"!=Q([t])||"{}"!=Q({a:t})||"{}"!=Q(Object(t))}));n({target:"JSON",stat:!0,forced:pt},{stringify:function(t,e,i){var n,r=[t],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=e,(d(e)||void 0!==t)&&!at(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!at(e))return e}),r[1]=e,Q.apply(null,r)}})}B[I][z]||x(B[I],z,B[I].valueOf),M(B,C),_[Y]=!0},a630:function(t,e,i){var n=i("23e7"),r=i("4df4"),o=i("1c7e"),s=!o((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:s},{from:r})},b104:function(t,e,i){t.exports=i.p+"img/loading.d1863f77.png"},d28b:function(t,e,i){var n=i("746f");n("iterator")},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),o=i("da84"),s=i("5135"),a=i("861d"),c=i("9bf2").f,u=i("e893"),f=o.Symbol;if(r&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};u(h,f);var d=h.prototype=f.prototype;d.constructor=h;var b=d.toString,p="Symbol(test)"==String(f("test")),g=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=b.call(t);if(s(l,t))return"";var i=p?e.slice(7,-1):e.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:h})}},e538:function(t,e,i){var n=i("b622");e.f=n},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("861d"),o=i("e8b5"),s=i("23cb"),a=i("50c4"),c=i("fc6a"),u=i("8418"),f=i("b622"),l=i("1dde"),h=i("ae40"),d=l("slice"),b=h("slice",{ACCESSORS:!0,0:0,1:2}),p=f("species"),g=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!d||!b},{slice:function(t,e){var i,n,f,l=c(this),h=a(l.length),d=s(t,h),b=s(void 0===e?h:e,h);if(o(l)&&(i=l.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)?r(i)&&(i=i[p],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return g.call(l,d,b);for(n=new(void 0===i?Array:i)(v(b-d,0)),f=0;d<b;d++,f++)d in l&&u(n,f,l[d]);return n.length=f,n}})}}]);